<?xml version="1.0"?>
<config>
    <modules>
        <Aleron75_Magemonolog>
            <version>0.5.0</version>
        </Aleron75_Magemonolog>
    </modules>

    <global>
        <models>
            <magemonolog>
                <class>Aleron75_Magemonolog_Model</class>
            </magemonolog>
        </models>
        <helpers>
            <magemonolog>
                <class>Aleron75_Magemonolog_Helper</class>
            </magemonolog>
        </helpers>
        <log>
            <core>
                <writer_model>Aleron75_Magemonolog_Model_Logwriter</writer_model>
            </core>
        </log>
    </global>

    <default>
        <magemonolog>
            <handlers>
                <default_magento_file_stream>
                    <active>1</active>
                    <class>Aleron75_Magemonolog_Model_HandlerWrapper_StreamHandler</class>
                    <params>
                        <stream>%channel%.log</stream>
                        <level>DEBUG</level>
                        <bubble>true</bubble>
                        <filePermission>null</filePermission>
                        <useLocking>false</useLocking>
                    </params>
                    <!--<formatter>
                        <class>Monolog\Formatter\LogstashFormatter</class>
                        <args>
                            <applicationName><![CDATA[MyAppName]]></applicationName>
                            <systemName><![CDATA[]]></systemName>
                            <extraKey><![CDATA[]]></extraKey>
                            <contextKey><![CDATA[]]></contextKey>
                        </args>
                    </formatter>-->
                </default_magento_file_stream>
                <NativeMailHandler>
                    <active>0</active>
                    <class>Aleron75_Magemonolog_Model_HandlerWrapper_NativeMailHandler</class>
                    <params>
                        <to>dummy@example.com</to>
                        <subject>Log</subject>
                        <from>dummy@example.com</from>
                        <level>ERROR</level>
                        <bubble>true</bubble>
                        <maxColumnWidth>70</maxColumnWidth>
                    </params>
                </NativeMailHandler>
                <NewRelicHandler>
                    <active>0</active>
                    <class>Aleron75_Magemonolog_Model_HandlerWrapper_NewRelicHandler</class>
                    <params>
                        <level>ERROR</level>
                        <bubble>true</bubble>
                        <appname>***your app name here***</appname>
                    </params>
                </NewRelicHandler>
            </handlers>
            <processors>
                <psr_log_message>
                    <active>1</active>
                    <class>Monolog\Processor\PsrLogMessageProcessor</class>
                </psr_log_message>
                <web>
                    <active>1</active>
                    <class>Monolog\Processor\WebProcessor</class>
                </web>
            </processors>
        </magemonolog>
    </default>
</config>